;
; VICIdial Extensions Configuration Sample
; Basic dialplan contexts for VICIdial operation
;

; ============================================================================
; INCOMING CONTEXTS
; ============================================================================

[from-external]
; Context for incoming calls from external sources
; This is where calls from your SIP provider will land

; Example: Route incoming calls to VICIdial
;exten => _X.,1,NoOp(Incoming call from external: ${CALLERID(all)})
;exten => _X.,n,Set(CALLERID(name)=External Call)
;exten => _X.,n,Goto(default,8365,1)

; Catch-all for unmatched numbers
exten => _X.,1,NoOp(Unmatched incoming call: ${EXTEN})
exten => _X.,n,Playback(ss-noservice)
exten => _X.,n,Hangup()

[from-twilio]
; Context for Twilio incoming calls (if using Twilio)
; Uncomment and configure as needed

;exten => _X.,1,NoOp(Incoming Twilio call: ${CALLERID(all)})
;exten => _X.,n,Set(CALLERID(name)=Twilio Call)
;exten => _X.,n,Goto(default,8365,1)

[from-provider]
; Context for generic SIP provider incoming calls
; Uncomment and configure as needed

;exten => _X.,1,NoOp(Incoming provider call: ${CALLERID(all)})
;exten => _X.,n,Set(CALLERID(name)=Provider Call)
;exten => _X.,n,Goto(default,8365,1)

; ============================================================================
; DEFAULT CONTEXT (for local phones)
; ============================================================================

[default]
; Context for local phones and internal calls

; VICIdial park extension
exten => 8365,1,NoOp(VICIdial park call)
exten => 8365,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8365,n,Hangup()

; Echo test
exten => 600,1,NoOp(Echo test)
exten => 600,n,Answer()
exten => 600,n,Wait(1)
exten => 600,n,Playback(demo-echotest)
exten => 600,n,Echo()
exten => 600,n,Hangup()

; Playback demo
exten => 500,1,NoOp(Demo playback)
exten => 500,n,Answer()
exten => 500,n,Wait(1)
exten => 500,n,Playback(demo-congrats)
exten => 500,n,Hangup()

; Time announcement
exten => 411,1,NoOp(Time announcement)
exten => 411,n,Answer()
exten => 411,n,Wait(1)
exten => 411,n,SayUnixTime()
exten => 411,n,Hangup()

; Extension to extension dialing
exten => _1XXX,1,NoOp(Extension to extension: ${EXTEN})
exten => _1XXX,n,Dial(PJSIP/${EXTEN},30)
exten => _1XXX,n,Hangup()

; ============================================================================
; OUTBOUND CONTEXTS
; ============================================================================

[outbound-local]
; Context for local/internal calls only
include => default

[outbound-long-distance]
; Context for long distance calls
include => outbound-local

; Example: Route 10-digit numbers to trunk
; Uncomment and configure with your trunk
;exten => _NXXNXXXXXX,1,NoOp(Outbound call to: ${EXTEN})
;exten => _NXXNXXXXXX,n,Dial(PJSIP/${EXTEN}@provider,60)
;exten => _NXXNXXXXXX,n,Hangup()

[outbound-international]
; Context for international calls
include => outbound-long-distance

; ============================================================================
; VICIDIAL CONTEXTS (will be managed by VICIdial)
; ============================================================================

[vicidial-auto]
; VICIdial auto-dial context
; This will be populated by VICIdial scripts

[vicidial-inbound]
; VICIdial inbound context
; This will be populated by VICIdial scripts

; ============================================================================
; SPECIAL CONTEXTS
; ============================================================================

[parked-calls]
; Context for parked calls
; VICIdial will manage this

[conferences]
; Context for conference calls
; VICIdial will manage this
